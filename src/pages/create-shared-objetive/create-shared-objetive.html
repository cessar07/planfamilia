<!--
  Generated template for the CreateSharedObjetivePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header id="head"> 
    <ion-grid>
        <ion-row align-items-center>
            <ion-col col-2 text-left>
                <ion-navbar></ion-navbar>
            </ion-col>
            <ion-col class="div_img" col-8>
                <img src="../../assets/imgs/logolargoblanco.png" class="logo_imm">
            </ion-col>
        </ion-row>
    </ion-grid>
</ion-header>
<ion-content id="bod">
    <div no-padding>
        <ion-grid no-padding id="grid2">
            <ion-row no-padding align-items-center>
                <ion-col col-3 id="pad-5">
                    <p>Nice job</p>
                </ion-col>
                <ion-col class="div_img" col-6>
                    <p>This is a 468x60 test ad.</p>
                </ion-col>
                <ion-col class="div_img" col-3>
                    <img src="../../assets/imgs/tab2@3x.png" class="img_icon">
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <ion-grid no-padding id="grid_title">
        <ion-row no-padding align-items-center>
            <ion-col col-2></ion-col>
            <ion-col col-2 text-right>
                <img src="../../assets/imgs/objcompartidos.png" alt="" id="img_title">
            </ion-col>
            <ion-col col-8 text-left id="text_title">
                Objetivo compartido
            </ion-col>
        </ion-row>
    </ion-grid>
    <div>
    	<ion-grid no-padding>
            <ion-row no-padding align-items-center>
            	<ion-col col-1></ion-col>
				<ion-col col-10 text-center>
					<form (ngSubmit)="addSharedOb()" id="form_add_s_o">
				        <div class="space"></div>
				      	<ion-item class="item_form">
				        	<ion-label class="label_form">
				        		<img src="../../assets/imgs/texto.png" alt="">
				        	</ion-label>
				        	<ion-input type="text" name="name" placeholder="Nombre del objetivo" id="name_ob"></ion-input>
				      	</ion-item>
				        <div class="space"></div>
				      	<ion-item class="item_form">
						  	<ion-textarea rows="6" cols="20" name="description" placeholder="Descripción del objetivo"></ion-textarea>
						</ion-item>
				        <div class="space"></div>
				      	<ion-item class="item_form">
						  	<ion-label position="floating">Fecha del objetivo</ion-label>
						  	<ion-datetime name="limit" displayFormat="DD MMMM YYYY" min="2019" max="2100" doneText="Aceptar" cancelText="Cancelar" monthNames="Enero,Febrero,Marzo,Abril,Mayo,Junio,Julio,Agosto,Septiembre,Octubre,Noviembre,Diciembre" [(ngModel)]="myDate"></ion-datetime>
						</ion-item>
				        <div class="space"></div>
						<ion-item class="item_form">
						  	<ion-label position="floating">Hora del objetivo</ion-label>
						  	<ion-datetime displayFormat="HH:mm" doneText="Aceptar" cancelText="Cancelar" name="limit_h" [(ngModel)]="myHour"></ion-datetime> 
						</ion-item>
				        <div class="space"></div>
                        <ion-list radio-group class="list_family" [(ngModel)]="repeat" name="repeat">
                            <div class="space"></div>
                            <ion-list-header class="on-list-header">
                                <b>¿Repetir?</b>
                            </ion-list-header>
                            <ion-item class="item_form">
                                <ion-label>No</ion-label>
                                <ion-radio value="0"></ion-radio>
                            </ion-item>
                            <div style="height: 5px;"></div>
                            <ion-item class="item_form">
                                <ion-label>Dias de semana (Lun - Dom)</ion-label>
                                <ion-radio value="1"></ion-radio>
                            </ion-item>
                            <div style="height: 5px;"></div>
                            <ion-item class="item_form">
                                <ion-label>Semanalmente</ion-label>
                                <ion-radio value="2"></ion-radio>
                            </ion-item>
                            <div style="height: 5px;"></div>
                            <ion-item class="item_form">
                                <ion-label>Mensualmente</ion-label>
                                <ion-radio value="3"></ion-radio>
                            </ion-item>
                            <div style="height: 5px;"></div>
                            <ion-item class="item_form">
                                <ion-label>Anualmente</ion-label>
                                <ion-radio value="4"></ion-radio>
                            </ion-item>
                        </ion-list> 
                        <div class="space"></div>
				        <div text-left>
							<h4>Compartir con:</h4>
					  		<!-- <ion-item class="item_fam" *ngFor="let f of userFamily">
					  			<ion-label>{{ f.name }} ({{ f.nick }})</ion-label>
								<ion-checkbox (ionChange)="updateCucumber(f)" [(ngModel)]="f.status_select" name="user"></ion-checkbox> 
					  		</ion-item>
                            <ion-item class="item_fam" *ngFor="let f of userFamilyExt">
                                <ion-label>{{ f.userInfo.name }} ({{ f.userInfo.nick }})</ion-label>
                                <ion-checkbox (ionChange)="updateCucumber(f.userInfo)" [(ngModel)]="f.userInfo.status_select" name="user"></ion-checkbox> 
                            </ion-item> -->
                            <div *ngFor="let f of userFamily">
                                <h6 (click)="toggle(f)">{{ f.name }} +</h6>
                                <ion-list class="no_s no_s_{{ f.id }}"> 
                                    <ion-item class="item_form m_t" *ngFor="let fa of f.family">
                                        <ion-label>{{ fa.userInfo.name }}</ion-label>
                                        <ion-checkbox [(ngModel)]="fa.userInfo.status_select" (ionChange)="updateCucumber(fa.userInfo)" name="fami"></ion-checkbox>
                                    </ion-item>
                                    <ion-item class="item_form m_t" *ngFor="let fam of f.familyOther">
                                        <ion-label>{{ fam.name }}</ion-label>
                                        <ion-checkbox [(ngModel)]="fam.status_select" (ionChange)="updateCucumber(fam)" name="fami"></ion-checkbox>
                                    </ion-item>
                                </ion-list>
                            </div>
                            <div *ngFor="let fa of userFamilyExt">
                                <h6 (click)="toggle(fa.familyInfo)">{{ fa.familyInfo.name }} +</h6>
                                <ion-list class="no_s no_s_{{ fa.familyInfo.id }}">
                                    <ion-item class="item_form m_t">
                                        <ion-label>{{ fa.adminInfo.name }}</ion-label>
                                        <ion-checkbox [(ngModel)]="fa.adminInfo.status_select" (ionChange)="updateCucumber(fa.adminInfo)" name="fami"></ion-checkbox>
                                    </ion-item>
                                    <ion-item class="item_form m_t" *ngFor="let faa of fa.family">
                                        <ion-label *ngIf="userDetails.id != faa.userInfo.id">{{ faa.userInfo.name }}</ion-label>
                                        <ion-checkbox [(ngModel)]="faa.userInfo.status_select" (ionChange)="updateCucumber(faa.userInfo)" name="fami" *ngIf="userDetails.id != faa.userInfo.id"></ion-checkbox>
                                    </ion-item>
                                    <ion-item class="item_form m_t" *ngFor="let fas of fa.familyOther">
                                        <ion-label>{{ fas.name }}</ion-label>
                                        <ion-checkbox [(ngModel)]="fas.status_select" (ionChange)="updateCucumber(fas)" name="fami"></ion-checkbox>
                                    </ion-item>
                                </ion-list>
                            </div>
					  	</div>
						<ion-input type="hidden" name="limit_date" value="{{ myDate }}"></ion-input>
						<ion-input type="hidden" name="limit_hour" value="{{ myHour }}"></ion-input>
						<ion-input type="hidden" name="user_id" value="{{ userDetails.id }}"></ion-input>
						<ion-input type="hidden" name="family_r" value="{{ family_r }}"></ion-input>
                        <ion-input type="hidden" name="repeat_type" value="{{ repeat }}"></ion-input>
				        <div class="space"></div>
				        <button ion-button type="submit" block color="primary">Registrar objetivo</button>
				        <div class="space"></div>
				    </form>
				</ion-col>
            </ion-row>
        </ion-grid>
    </div>
    <div id="las_pu">
        <ion-grid no-padding id="grid3">
            <ion-row no-padding align-items-center>
                <ion-col col-3 id="pad-5">
                    <p>Nice job</p>
                </ion-col>
                <ion-col class="div_img" col-6>
                    <p>This is a 468x60 test ad.</p>
                </ion-col>
                <ion-col class="div_img" col-3>
                    <img src="../../assets/imgs/tab2@3x.png" class="img_icon">
                </ion-col>
            </ion-row>
        </ion-grid>
    </div>
</ion-content>
